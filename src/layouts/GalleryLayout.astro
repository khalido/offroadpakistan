---
import BaseLayout from './BaseLayout.astro';

interface Props {
  title: string;
  gallery?: any;
  picture?: any;
}

const { title, gallery, picture } = Astro.props;
---

<BaseLayout title={title}>
  {gallery && (
    <!-- Gallery Header -->
    <header class="mb-8">
      <h1 class="text-2xl font-bold text-teal-600 mb-4">{gallery.data.title}</h1>

      <div class="text-xs text-gray-600 border-b border-gray-200 pb-4">
        {gallery.data.picture_count && (
          <span>{gallery.data.picture_count} pictures</span>
        )}

        {gallery.data.date && (
          <span class="ml-4">
            {gallery.data.date.toLocaleDateString('en-US', {
              year: 'numeric',
              month: 'long'
            })}
          </span>
        )}
      </div>
    </header>
  )}

  {picture && (
    <!-- Picture Header -->
    <header class="mb-8">
      <nav class="mb-4">
        <a
          href={`/pictures/${picture.data.gallery}/`}
          class="text-green-600 hover:underline text-xs"
        >
          ‚Üê Back to {picture.data.gallery} gallery
        </a>
      </nav>

      <h1 class="text-2xl font-bold text-teal-600 mb-4">{picture.data.title}</h1>

      <div class="text-xs text-gray-600 border-b border-gray-200 pb-4">
        {picture.data.date && (
          <time datetime={picture.data.date.toISOString()}>
            {picture.data.date.toLocaleDateString('en-US', {
              year: 'numeric',
              month: 'long',
              day: 'numeric'
            })}
          </time>
        )}

        {picture.data.photographer && (
          <span class="ml-4">Photo by <strong>{picture.data.photographer}</strong></span>
        )}

        {picture.data.order && (
          <span class="ml-4">#{picture.data.order}</span>
        )}
      </div>
    </header>
  )}

  <!-- Content -->
  <div class="prose prose-sm max-w-none">
    <slot />
  </div>
</BaseLayout>
